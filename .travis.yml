sudo: required

language: generic

git:
  depth: false

dist:
  xenial

cache:
  directories:
    - $HOME/.m2

services:
  - docker

before_install:
  - docker pull moussavdb/build-java

env:
  global:
  - secure: XTz8s7Z3sYnxs9l8ff91RTB3xjtOtFHv1YX1T5KQRlVmg9y2C8qxdd93340UnB4BXNHZITCeaHghbi0z8LCc7ItM2f3AISXNOj0KBUIeZvhIwTPdNDktHWyVuZzdebkWsklxsYap/tnMkeI8QmuIS3R1oVtKBU05EXAv2nF5hNYcdCAIgFyVhp9WVwWmfr1KpwdRhpV1eyg0OytNnxZodjzo4ajoT+8LQvNRvz50jfAffk0SmE0kEEQQuJpBBjv5DamL7tn+MX4ZjLjGhvrX1BzRQJz9TBjwNz1FXvdF9ZLms74Q3RhWP+VNqlT8w5h11ZDkKH611yHZtrPaLdKRJg+f6T9LHCoJH2JdY5QlFAeaYXxvkOQBVq1KR27Qagx/XsQl8TVnWwv03KRQ+VkDTOfMfWRApoOPoCSVk9hJA0hncvW/4wxV9fB5izq9U2YxkwX3rnwCzRDSkuHBYLb/Q7s8ru9Lrp7xiG96XK3fyyUZhopKzLVynv9fxX+Jcsr4q21hi5UsxzfTOW1n3BLRwEYhlpL+itiAakjPOcLX4vAAQKPhYhmdn2dS/lQ0Atb/Vw1w2XVgvXHxNUnlVFZsSZScD7rXvaAbVVqogw+hPPS5laMohuW5mFR/Nab2LH4HSKXPjV8EQrGGEb1hNVldnH+X4XOJcEU7R01SNaVR9x0=
  - secure: lGoCvFVBFD9tZO961jn5Qr760PSQzfFIzaVzlcqNloF2XczYlX9kzPoO8i66dW8VMXrakjsBm5hOjq/f4CIyUPxkndE78wZcZpZOtSi1Z85Xu4WfA6W+Zv4ZfkcwY83s/3E22VxO2ZryUbwOxM4prhXSL9AjRtV6HI/W3Ulc5n+q//cDWp89ZaLVf3ICv4CfzvvvOoT+wM+wcWWgNNDYy5d6CJtTN+yZRDcFH1LjHiXHHAoF9UJolzSCUHSDnrDgoVWNFyhApjLV/5T7BIhtRO+V88VxG0UsFeo+bXXB2NQ5D7TR6aeZXgLd1BLZ+4ORVQkIdSxcMEchF5vYjDFNCIhnF5TzjbWzaDNXRRqCAjbkZk8hDT5n33Z/HJkWQry/j3zpnQgcdOWm4lkj7N/v5S0V/pU3uI8G9pXsHAyWMlTxGPb1+l+Tbqgbwl9mmDkPXCJfIjuCf1ROfeE/u0/NrQPBImMCwSH4zpYfUkVKzAAMkZAF0bVbWrRGl9897BWTzyfVu5IiTyJurAaW/GCbgsyUTs+IuzQOaxG+EZTw2W917TeFdpEdU2gQWfwlomMF9n8jrhp5/BrL9dqsind6aYXc8b6/UoN7GAdj4AUW61XhJgWrpPeUoXvhY2vc6nmOKdO/pyo8CEvL4N8PfWrxvgZ5DljH5HXrQyf5LrV4/Ns=
  - secure: UbM95DBkVV/kqzXJAv9Lk3B1LqFnpSYQoLeAoYLNjWTV6IJ1u5PSpRt6wKZN83Tw90UcyMBSgQg63lXh9lv/l5ii/aBkwk9VgxWqxprPC06slH6p4TDE3cqQKcIWGVydmg75UzaQodo7AmxhYnLHDIeZW8wibwVe0cDPkaBuGw7zWF91Yv584XT9nuSTfFvfvw2KlrcGBjEJt6ydRci9csJ4Cs7ZiltEFa/6MpDMa2+g99yG5hn6g0o1ZqxItE9RHGwUdwf+Ihmog60VC1ROgOzTcyq+Ien2M7VnYvB8lTMYDXvNSKZd+UvjChqveajhBpmAlGpEn7Jst6j30r/6oKkmCDPo3gOPVqZgYri+k+m/i2GupvNajAYnmBPDFMKBH+zzWe3XI6y7YDegBl3TN8VDCVadhnzECESh+ahIqqXCqWK77+W2LpQJWd53wAlyhkqoYrX7kdbombxgMqu/gJKDteU1fKKBVJdrV5BrNoA18VdZPVUOrrxgwd9ocNRb/rLMdETFvcpVuYQtUGiXGweJrnJN7R5LQwoDfxM1vxkYawbturpBZ3fyOOukfgEnfjYTTk2RIxlRYSHdmmKCBaJJvG+y44Bv/dldYGwdIOYpkaqOjUcfo73ZchD1KJYZGZoiGph5yEJkV04M1MzkRI9LsTBHA3WEAGNTgSJDAwI=
  - secure: GecEzZXc+Itc6QDMWtOoI4/cvUguUFiiupUaU4jsKIG87RPsl9F2ZcRtmqzbkdYeRUDLpEZb7ctA78T9t5b3CEnA/iOsijZpHYaD4gEWn9Tzhqu29rI3Pt1JfZMNo+SBzxD6SWPbUqkDBrQlGPuQeUcxq/JZ4yj1vVI4y2YqRBW0uqzsobiGKFI64vEcbcWJBmmwA5mkLN57vcbnBmcS4nkiV57MdTotnm2FGixISEp17z48EiHKj5GBzN2ukwPjwKBBSRL62gGY5RYVxPfH9sCDvpQXTsIhbTHv+Gmv9cF7iz0U1AEWmZ+8Ep1HcVwzGazSmXiXcXd6nxv830sPUo3UwjgDpesuOwUHNSO31QPIXyU5acDEfCxM29gJmq9ubUGG1rQbXIhPV2h7kVvXr8zRMgUYpLElHZgF10T1G3NWfdcKZAyr8yIdr9Z2IvGLeGqWp78C+NaeZknUqOEaXntCTJyyGFkiytbXC7BjA3zmGvynuY/cT3lXMEsGd9yj+Q+N7PcxWa7rUZZkjFpk6os6uW3/ONqhBT2jwLady9/KIEyxzwa0TX49QblZlGbEDk+UHdfuL05T2gXN375IezioSLL609YY4PY27y+KIX+py8TWvMRydiqR/bt2FdRZCyGMoSewtHosQafD1dR8+51XJGyZdmP0/tTD3kYWF7g=
  - secure: DgQLoV5dbTaXcObqdXC0JSJDMvFchkzqZ2x5iqwiachjEuUzd1LROZM7eLnfsMxBtaXYuNDKNjCz0kYJzs8RfLLTbZpmwfp0nt0cdSXN5domnaFXZ4xkIDxtnDyH3IV6W/vH3h7SKXpzLYL541vqbDCF/eepeyAYnDHeeRJAjIFEpBt/VgqELRchevtZ8gR0Q58SN0Z16i3FgxUKaM9th/IpHZDt8kCIlPqLaQ0LxKzgGl0n2pOyyOgydHQqvut6fRugNY4wiN839v40z961smgnQe3f6jqwNTzv7AS9M1n0IxkzQgkD8Uj8zcEA72W5AsIVOA6+KPf6PKU3NUfbx0wcGUePTNPyCn79KoeLPXUkOFtDJj5LsahuiME0Gzpl3yQ7SPtvmpEk6lzf+Cubcw1DW9oFJu4uwunnjdLy39K3ofg2Pg3mK9Jro+hJ2ASUInWdobqZd1gmnlUjle5W3kA1rJEeQf8GlZPhbrDJeXaRzYZWMG6dZl67cx0aa43QCYerzqW8fAUap8AJsKHMIE/hy2f7O9BzSEcCsING8a3TTZSGUaVEnuR3rcNpwxuKDVuS/EmqRf2Cz05ZJvsO4l1F+EHtrWcKmssDvtj0iBsCdDFbHjs/QFz2sLaER5PLCCrY8a5Um++DJPfYFPKlcRuUiDiHQetGq1tel5bB+04=
  - secure: DQ+iumVextJI/uheCVtsg9fFxOqFOjcnrQReSJ0PGaBMjddhr7xYqhQu4eZVcVJ29FJhDtuqhNUM0t8Udrs14ZW+pLfT7E7FY/d7TxgEJihm7dDln7QkFQNYiDFe4LYRkFMSWgw1+//3qfnnA9rya7gIPzE0HK/zNkMK+8VCaA8n+gCk3UGydjQu0yVTd0TMlXzGnbv8D3ONgbX0u7yAYgF2x35QPL7Iot4ZgEFnu6txUZEaIejDl8hz84gIq18n8BpXg7EaYBpZlrCZDnVy798pB2k5NU6coiI890955RAcy+h4KQ5aIou6k2xWlj9dMwQ/XWsp7DBY8Yoa/4kbdQBdhRt89lES8HbZFXG+dQaNWcWNaAdX7nxbzk4pLT7pJplriD/UCC85uL80qfZmfkVgXOMMuZUGk6QanrnhIZhHg/PDi5iZ0ggsXNw0vCE3MRUSF/hAxJHPToXklyLvz8wgzUnQMSLm6D4eit1s0MibAoN0cCLouP+g0Xwygdfr3PY3Au1BE0kXSIo6OwVfgmqbMPEgbzlsYIMSOAU0l4zQPtar/d/0NSVkiJ1ykv32HrxVZsMnXQ7Q+sBupNWktVef3QwCj/BnHx6vrFrmy52n+vQWfSVvzxTeaQ4ZDci4DeuYO6Vj5DroQse3j2HwtzLcD7xKuDvObN/84huw6GM=
  - secure: o7UkS0hE6AACZ9jU+ccw6eJKEp0icmM//2QPK+r3ZPQkrrsFsRMGXf12dMZXpxSZY0J/iQ4dzgeaQIk+7Khpqx9F3aDL15tnU9jRdsrxK1hHh9G3K/G3eIOE2kO64XsixMr3dJAtpqZJjOOdIdViUmszPg8dWA3GMZE6EUzWKOYFbQ2Euvjxej/i9wI6ObGPYwuFXpTfk8tRXoHQbG1gEI90DQ5TSb0JTYs9WjO90LYYddiN2pu0I/9LsWB1eHOU0cz1o6lK8d4ScXfe0hllyGjUMiks3pxUIZ/jlGr9oDGJQm+dJ+pE0i//74zHCxw/wnX7SOhTcGumjO5wCPszFTWa8HEeginY5n7nvHhoV0uitCeqpkBFWQTkaJNNoVucvEzCjrniEM8mrkgciDBLg6iQTD7UcxWcfxstRfO2rYZGUVc/dRBcWlqPr+0ZpP3uUdbqGZpPzSO72GZH3BRDKVvs9cbBWKTIY1MIywySnoirJi3flTsvOQBEehtrR44NAwpg4/OB6mEJlwLzsZ6Tgx1WrQ9HGiwm/RdUaZGxzdQ1tuNjKXZCkhpf9NXz1/pHfwFKLtL6ClB3/C1JddgjQVCCWrLSw6+LUlpRF8E+Fb9lv74+ZMTXZ88sZbl4qHrT9pVIAHkEGUGd2XHZfgLOLi+QzRriRD4dOTQnw3HDyl0=
  - secure: x07f89XEmDxDNCR922VN3IsCwOnnrkdBo25SNnJBAq1iDhXvUwjdtwrlGvnvWXYQBJQz3Td6fgoSW2+EbCIW7QUOSDZX9+ThguFRt5E/gB9Po5SrmL2NYe1YeW2ERCb9YvVAl6AzR+13JXC1x5Pssp2v6uBo64D+DyyCG9hm3PshT2b8vgt0GWPhdjGNDP0zpSRZg2d7HnPctXp5cf+q9oVAD5V9JsfBy3UIzCId9sDc7MkLnZNnTAykQ6dWTJa39VXkDPJytJXWQMSiJMXF0Pmi2WyoTUbMx1RcCm/pr5s6dwX/vi1k6N4kMgdLmvSk2O68fYb0CwFIeU3fO8Fls9ZShT+XoR6U3Swo1SqjwGt8zFju0kXhjN3eRqVmzsL04MFYOJykx/viRTWH6Cluhe5G8cUU4v6QRetj2SgcrjDI27r4UorgZFQCTQVJ4CRg6CbhGXUyyYEMs6is7lfykiCD9G6pQUu0ZiU15vpJ1h4jU/woXyByg/AULOO2ATI3DWKzOAe6sZabXQKhyKmFKRZM1i/IPdMc672knHH/Yq06VQW8VIqqT75a0sq7HCBp7rJ0aaAQW4qxcawSeaeZSVyFnFPgrnyt5ErsU+X0FJroXWZxQtO7vOLBwN5w/dZB3q4QoA3tY48+Tb4RE11z2tM3Seb50RLi8FaeyQx5Wpk=
  - secure: r/opiIdleKlBQmsQtOGoCt5NlL/Z3bHEJi1tnWjf7zdnxn2bkxtiHEBVv4kumeQUqCvVk6MqyKl8Ibc/zT7Q5fYqeo2JWq+2FV9W+wsCRswrXwTFApDjH2CEsFEX9hUHG/uwkPiwnw/y3sdX3jJ/CRoYnhovfD0tU94sQjABTljYZrRk/jhS2+Kzcyj4nvgUiNfF7GqLYlNL96n1uCoacSszoWlUQnfCsC1qyktWeNaSvSweMsbtjCPl3nu2V612l7Hr5grLsRu8O5wkJOPL7oswx8+dDDCn8TQpx7VQfFpSvE0AmjUphTdJ9+TlI+6N+A6TsVgNocTiahC5KKuPrvlJGFrbmAgmjOlf1MHpcq78Lxg6OW32kMd+NIQ82tiw182veBMZVmFhrVT2gouY+2Jrdwa0bvX9ZpAZPjRQmNIGDhD+CrVdlsW0IIXux59mHr14ay4zVEoVlIWQK+na7Y+tCd66hVLbwbrjqikPotLhqtqnziL0JGhffKRsMfywhXKGxDM9LFk7jDDnCBRGQ4zkYzhvRRjGHmZP1r2EcmXEQ+w99B+iGuDF84HrD+nU1/MPOk/kij9VN6z/9e8sWdOZaFrHE5pkeDC58DtL7t7CSiY2fS8dmp8QUs3YELYjGPHmgIbAk2P4AEOO3LM8tiwKK1FbHxAKXTtJATaUmSU=

script:
  - chmod 777 deploy-maven-central.sh
  - docker run -v $PWD:/src -v $HOME/.m2:/root/.m2 -e BRANCH=$TRAVIS_BRANCH -e OPENSSL_PWD=$OPENSSL_PWD -e GPG_PWD=$GPG_PWD -e GPG_KEY=$GPG_KEY -e OSSRH_USER_TOKEN=$OSSRH_USER_TOKEN -e OSSRH_PWD_TOKEN=$OSSRH_PWD_TOKEN -e SONAR=$SONAR -e SONAR_ORGANIZATION=$SONAR_ORGANIZATION moussavdb/build-java ./deploy-maven-central.sh
